<?php

namespace PhpPdgAnalysis\Analysis;

class LibraryInfo implements DirectoryAnalysisInterface {
	public function analyse(\SplFileInfo $libraryRootFileInfo) {
		$info = [
			"cakephp" => [
				"name" => "CakePHP",
				"version" => "3.2.8",
				"release" => "24-04-2016",
				"php" => "5.5.9",
				"files" => "851",
				"sloc" => "139620",
				"description" => "Application Framework",
			],
			"CodeIgniter" => [
				"name" => "CodeIgniter",
				"version" => "3.0.6",
				"release" => "21-03-2016",
				"php" => "5.2.4",
				"files" => "198",
				"sloc" => "29770",
				"description" => "Application Framework",
			],
			"doctrine2" => [
				"name" => "Doctrine ORM",
				"version" => "2.5.0",
				"release" => "02-04-2016",
				"php" => "5.4.0",
				"files" => "1045",
				"sloc" => "85528",
				"description" => "ORM",
			],
			"drupal" => [
				"name" => "Drupal",
				"version" => "8.1.0",
				"release" => "20-04-2016",
				"php" => "5.5.9",
				"files" => "6005",
				"sloc" => "480861",
				"description" => "CMS",
			],
			"gallery3" => [
				"name" => "Gallery",
				"version" => "3.0.9",
				"release" => "26-06-2013",
				"php" => "5.2.3",
				"files" => "568",
				"sloc" => "44758",
				"description" => "Photo Management",
			],
			"joomla-cms" => [
				"name" => "Joomla",
				"version" => "3.5.1",
				"release" => "05-04-2016",
				"php" => "5.3.10",
				"files" => "3186",
				"sloc" => "347423",
				"description" => "CMS",
			],
			"kohana" => [
				"name" => "Kohana",
				"version" => "3.3.5",
				"release" => "10-03-2016",
				"php" => "5.3.3",
				"files" => "478",
				"sloc" => "30738",
				"description" => "Application Framework",
			],
			"magento2" => [
				"name" => "Magento",
				"version" => "2.0.4",
				"release" => "31-03-2016",
				"php" => "5.5.0",
				"files" => "15047",
				"sloc" => "1023247",
				"description" => "Online Retail",
			],
			"mediawiki-1.26.2" => [
				"name" => "MediaWiki",
				"version" => "1.26.2",
				"release" => "21-12-2015",
				"php" => "5.3.3",
				"files" => "2891",
				"sloc" => "400416",
				"description" => "Wiki",
			],
			"moodle" => [
				"name" => "Moodle",
				"version" => "3.0.3",
				"release" => "12-03-2015",
				"php" => "5.4.4",
				"files" => "7811",
				"sloc" => "1167840",
				"description" => "Online Learning",
			],
			"oscommerce2" => [
				"name" => "osCommerce",
				"version" => "2.3.4",
				"release" => "06-06-2014",
				"php" => "4.0.0",
				"files" => "698",
				"sloc" => "60003",
				"description" => "Online Retail",
			],
			"pear-core" => [
				"name" => "PEAR",
				"version" => "1.10.1",
				"release" => "17-10-2015",
				"php" => "5.4.0",
				"files" => "203",
				"sloc" => "48872",
				"description" => "Component Framework",
			],
			"phpbb-app" => [
				"name" => "phpBB",
				"version" => "3.1.5",
				"release" => "03-05-2015",
				"php" => "5.3.3",
				"files" => "745",
				"sloc" => "183293",
				"description" => "Bulletin Board",
			],
			"phpmyadmin" => [
				"name" => "phpMyAdmin",
				"version" => "4.6.0",
				"release" => "17-05-2016",
				"php" => "5.5.0",
				"files" => "872",
				"sloc" => "202399",
				"description" => "Database Administration",
			],
			"silverstripe-framework" => [
				"name" => "SilverStripe",
				"version" => "3.3.1",
				"release" => "29-02-2016",
				"php" => "5.3.3",
				"files" => "745",
				"sloc" => "183293",
				"description" => "CMS",
			],
			"smarty" => [
				"name" => "Smarty",
				"version" => "3.1.29",
				"release" => "21-12-2015",
				"php" => "5.2.0",
				"files" => "204",
				"sloc" => "17282",
				"description" => "Template Engine",
			],
			"squirrelmail" => [
				"name" => "Squirrel Mail",
				"version" => "1.4.22",
				"release" => "12-07-2011",
				"php" => "4.1.0",
				"files" => "265",
				"sloc" => "26045",
				"description" => "Webmail",
			],
			"symfony" => [
				"name" => "Symfony",
				"version" => "3.0.4",
				"release" => "30-03-2016",
				"php" => "5.5.9",
				"files" => "2957",
				"sloc" => "202757",
				"description" => "Application Framework",
			],
			"WordPress" => [
				"name" => "WordPress",
				"version" => "4.5",
				"release" => "12-04-2016",
				"php" => "5.6.0",
				"files" => "651",
				"sloc" => "160039",
				"description" => "Blog",
			],
			"zf2" => [
				"name" => "Zend Framework",
				"version" => "2.5.3",
				"release" => "27-01-2016",
				"php" => "5.5.0",
				"files" => "2529",
				"sloc" => "169447",
				"description" => "Application Framework",
			],
		];
		$filename = $libraryRootFileInfo->getFilename();
		return isset($info[$filename]) ? $info[$filename] : [];
	}

	public function getSuppliedAnalysisKeys() {
		return ["name", "version", "release"];
	}
}